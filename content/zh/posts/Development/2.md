---
title: "GSoC '24 进度更新：第 1 & 2 周"
summary: "第 1-2 周进展：重构 ASS 字幕处理逻辑以支持更多数据的读写，添加了嵌入式字体支持，优化了样式存储，并迁移至 V4+Style。接下来的任务是更新数据结构和编写测试。"
categories: Development
tags:
    - KDE
    - GSoC
    - Kdenlive
date: 2024-06-13 20:42:00 +0800
translated: true
---

大家好！距离开发阶段开始已经过去两周多了。在这篇博客中，我将简要总结一下我在头两周的工作内容。

在研读了一段时间的代码后，我决定从重构现有的 ASS 字幕相关代码入手。这主要有两个目标：首先，让 Kdenlive 能够尽可能完整地读取 ASS 字幕中的信息（特别是 libass 支持的功能）并将其加载到内存中；其次，确保 Kdenlive 能够将这些信息完整地保存回文件。由于 `SubtitleModel` 中已经积累了大量的 ASS 字幕相关代码，我的工作重心是在保持兼容性的前提下，对现有代码进行细化和扩展。

**目前的进展如下：**

* 初步支持了 ASS 字幕中嵌入字体的读取和保存
* 优化了字幕样式的存储方式
* 完成了从 V4Style 到 V4+Style 的迁移

**下一步计划：**

* 修改 `m_subtitleList` 以容纳更多数据信息
* 为各项新功能编写单元测试

完成这些工作后，Kdenlive 对 ASS 格式的支持将更加全面，也标志着 ASS 代码重构阶段的圆满结束。接下来的工作重点将转向字幕样式修改功能的重构。未来两周的工作将围绕这两部分展开，敬请期待！

